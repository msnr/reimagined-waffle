{"version":3,"sources":["app.js","environment.js","main.js","contacts/index.js","resources/index.js","shared/page-not-found.js","shared/sidebar.js","validation/index.js","contacts/components/contact-details.js","contacts/components/contact-edition.js","contacts/components/contact-list.js","contacts/models/address.js","contacts/models/contact.js","contacts/models/email.js","contacts/models/phone.js","contacts/models/social-profile.js","contacts/services/api-service.js","resources/value-converters/date.js","resources/value-converters/filter-by.js","resources/value-converters/order-by.js"],"names":["App","configureRouter","config","router","title","options","pushState","root","map","route","redirect","name","moduleId","nav","mapUnknownRoutes","debug","testing","SERVER_URL","configure","Promise","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","Contacts","globalResources","PageNotFound","Sidebar","ContactDetails","api","activate","params","getSingleContact","id","contact","navModel","setTitle","fullName","console","log","catch","err","navigate","ContactEdition","isNew","undefined","saveContact","createContact","res","navigateToRoute","updateContact","_id","deleteContact","confirm","ContactList","error","contacts","order","property","asc","getAllContacts","splice","push","apply","setOrder","Address","type","address","ensure","required","maxLength","email","on","fromObject","src","Object","assign","Contact","firstName","lastName","company","birthday","phones","emails","addresses","socialProfiles","photoUrl","note","addPhone","addEmail","addAddress","addSocialProfile","Email","Phone","number","SocialProfile","username","ContactApiService","httpClient","useStandardConfiguration","withBaseUrl","fetch","response","json","method","body","DateValueConverter","toView","date","format","FilterByValueConverter","key","filter","toLowerCase","indexOf","OrderByValueConverter","field","ascending","sort","a","b"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n\n\tconfigureRouter(config, router) {\n\t\tthis.router = router;\n\t\tconfig.title = 'CRM Prototype Aurelia';\n\t\tconfig.options.pushState = true;\n\t\tconfig.options.root = '/';\n\t\tconfig.map([\n\t\t\t{ route: '', redirect: 'contacts' },\n\t\t\t{ route: 'contacts', name: 'contacts', moduleId: 'contacts/index', nav: true, title: 'Contacts' }\n\t\t]);\n\t\tconfig.mapUnknownRoutes('shared/page-not-found');\n\t}\n\n}\n","export default {\n  debug: true,\n  testing: true,\n\tSERVER_URL: 'http://localhost:8080/api/v1/'\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n\tlongStackTraces: environment.debug,\n\twarnings: {\n\t\twForgottenReturn: false\n\t}\n});\n\nexport function configure(aurelia) {\n\taurelia.use\n\t\t.standardConfiguration()\n\t\t.feature('validation')\n\t\t.feature('resources');\n\n\tif (environment.debug) {\n\t\taurelia.use.developmentLogging();\n\t}\n\n\tif (environment.testing) {\n\t\taurelia.use.plugin('aurelia-testing');\n\t}\n\n\taurelia.start().then(() => aurelia.setRoot());\n}\n","import { inlineView } from 'aurelia-framework';\r\n\r\n@inlineView('<template><router-view></router-view></template>')\r\nexport class Contacts {\r\n\r\n\tconfigureRouter(config) {\r\n\t\tconfig.map([\r\n\t\t\t{ route: '', name: 'contacts', moduleId: './components/contact-list'},\r\n\t\t\t{ route: 'new', name: 'contact-creation', moduleId: './components/contact-edition', title: 'Add new contact' },\r\n\t\t\t{ route: ':id', name: 'contact-details', moduleId: './components/contact-details' },\r\n\t\t\t{ route: ':id/edit', name: 'contact-edition', moduleId: './components/contact-edition' }\r\n\t\t]);\r\n\t}\r\n}\r\n","export function configure(config) {\n\tconfig.globalResources([\n\t\t'./value-converters/date',\n\t\t'./value-converters/filter-by',\n\t\t'./value-converters/order-by'\n\t]);\n}\n","export class PageNotFound { }\r\n","import { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\n\r\n@inject(Router)\r\nexport class Sidebar {\r\n\tconstructor(router) {\r\n\t\tthis.router = router;\r\n\t}\r\n}\r\n","export function configure(config) {\r\n\tconfig.plugin('aurelia-validation');\r\n}\r\n","import { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\nimport { ContactApiService } from '../services/api-service';\r\nimport { Contact } from '../models/contact';\r\n\r\n@inject(ContactApiService, Router)\r\nexport class ContactDetails {\r\n\tconstructor(api, router) {\r\n\t\tthis.api = api;\r\n\t\tthis.router = router;\r\n\t}\r\n\r\n\tactivate(params, config) {\r\n\t\treturn this.api.getSingleContact(params.id)\r\n\t\t\t.then(contact => {\r\n\t\t\t\tthis.contact = contact;\r\n\t\t\t\tconfig.navModel.setTitle(contact.fullName);\r\n\t\t\t\tconsole.log(this.contact);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tthis.router.navigate('contacts');\r\n\t\t\t});\r\n\t}\r\n}\r\n","import { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\nimport { ContactApiService } from '../services/api-service';\r\nimport { Contact } from '../models/contact';\r\n\r\n@inject(ContactApiService, Router)\r\nexport class ContactEdition {\r\n\tconstructor(api, router) {\r\n\t\tthis.api = api;\r\n\t\tthis.router = router;\r\n\t}\r\n\r\n\tactivate(params, config) {\r\n\t\tthis.isNew = params.id === undefined;\r\n\t\tif (this.isNew) {\r\n\t\t\tthis.contact = new Contact();\r\n\t\t} else {\r\n\t\t\tthis.api.getSingleContact(params.id)\r\n\t\t\t\t.then((contact) => {\r\n\t\t\t\t\tthis.contact = contact;\r\n\t\t\t\t\tconfig.navModel.setTitle(contact.fullName);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log(err));\r\n\t\t}\r\n\t}\r\n\r\n\tsaveContact() {\r\n\t\tif (this.isNew) {\r\n\t\t\tthis.api.createContact(this.contact)\r\n\t\t\t\t.then((res) => this.router.navigateToRoute('contacts'))\r\n\t\t\t\t.catch((err) => console.log(err));\r\n\t\t} else {\r\n\t\t\tthis.api.updateContact(this.contact)\r\n\t\t\t\t.then(() => this.router.navigateToRoute('contact-details', { id: this.contact._id }))\r\n\t\t\t\t.catch((err) => console.log(err));\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteContact() {\r\n\t\tif (confirm('Do you really want to delete this contact?')) {\r\n\t\t\tthis.api.deleteContact(this.contact._id)\r\n\t\t\t\t.then(() => { this.router.navigateToRoute('contacts'); });\r\n\t\t}\r\n\t}\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {ContactApiService} from '../services/api-service';\r\n\r\n@inject(ContactApiService)\r\nexport class ContactList {\r\n\terror = false;\r\n\tcontacts = [];\r\n\torder = {\r\n\t\tproperty: 'firstName',\r\n\t\tasc: true\r\n\t};\r\n\r\n\tconstructor(api) {\r\n\t\tthis.api = api;\r\n\t}\r\n\r\n\tactivate() {\r\n\t\tthis.api.getAllContacts()\r\n\t\t\t.then(contacts => {\r\n\t\t\t\tconsole.log(contacts);\r\n\t\t\t\tthis.contacts.splice(0);\r\n\t\t\t\tthis.contacts.push.apply(this.contacts, contacts);\r\n\t\t\t\tthis.error = false;\r\n\t\t\t})\r\n\t\t\t.catch((err) => this.error = true);\r\n\t}\r\n\r\n\tsetOrder(property) {\r\n\t\tthis.order = {\r\n\t\t\tproperty,\r\n\t\t\tasc: !this.order.asc\r\n\t\t}\r\n\t}\r\n}\r\n","import { ValidationRules } from 'aurelia-validation';\r\n\r\nexport class Address {\r\n\r\n\ttype = 'Home';\r\n\taddress = '';\r\n\r\n\tconstructor() {\r\n\t\tValidationRules\r\n\t\t\t.ensure('type').required().maxLength(25)\r\n\t\t\t.ensure('address').required().maxLength(250).email()\r\n\t\t\t.on(this);\r\n\t}\r\n\r\n\tstatic fromObject(src) {\r\n\t\treturn Object.assign(new Address(), src);\r\n\t}\r\n}\r\n","import { ValidationRules } from 'aurelia-validation';\r\n\r\nimport { Phone } from './phone';\r\nimport { Email } from './email';\r\nimport { Address } from './address';\r\nimport { SocialProfile } from './social-profile';\r\n\r\nexport class Contact {\r\n\tfirstName = '';\r\n\tlastName = '';\r\n\tcompany = '';\r\n\tbirthday = '';\r\n\tphones = [];\r\n\temails = [];\r\n\taddresses = [];\r\n\tsocialProfiles = [];\r\n\tphotoUrl = '';\r\n\tnote = '';\r\n\r\n\tconstructor() {\r\n\t\tValidationRules\r\n\t\t\t.ensure('firstName').maxLength(100)\r\n\t\t\t.ensure('lastName').maxLength(100)\r\n\t\t\t.ensure('company').maxLength(100)\r\n\t\t\t.ensure('birthday').maxLength(50)\r\n\t\t\t.ensure('photoUrl').maxLength(200)\r\n\t\t\t.ensure('note').maxLength(2000)\r\n\t\t\t.on(this);\r\n\t}\r\n\r\n\tstatic fromObject(src) {\r\n\t\tconst contact = Object.assign(new Contact(), src);\r\n\t\tcontact.phones = contact.phones.map(Phone.fromObject);\r\n\t\tcontact.emails = contact.emails.map(Email.fromObject);\r\n\t\tcontact.addresses = contact.addresses.map(Address.fromObject);\r\n\t\tcontact.socialProfiles = contact.socialProfiles.map(SocialProfile.fromObject);\r\n\t\treturn contact;\r\n\t}\r\n\r\n\tget fullName() {\r\n\t\treturn `${this.firstName} ${this.lastName}`;\r\n\t}\r\n\r\n\taddPhone() {\r\n\t\tthis.phones.push(new Phone());\r\n\t}\r\n\r\n\taddEmail() {\r\n\t\tthis.emails.push(new Email());\r\n\t}\r\n\r\n\taddAddress() {\r\n\t\tthis.addresses.push(new Address());\r\n\t}\r\n\r\n\taddSocialProfile() {\r\n\t\tthis.socialProfiles.push(new SocialProfile());\r\n\t}\r\n}\r\n","import { ValidationRules } from 'aurelia-validation';\r\n\r\nexport class Email {\r\n\r\n\ttype = 'Home';\r\n\taddress = '';\r\n\r\n\tconstructor() {\r\n\t\tValidationRules\r\n\t\t\t.ensure('type')\r\n\t\t\t.required()\r\n\t\t\t.maxLength(25)\r\n\t\t\t.ensure('address')\r\n\t\t\t.required()\r\n\t\t\t.maxLength(250)\r\n\t\t\t.email()\r\n\t\t\t.on(this);\r\n\t}\r\n\r\n\tstatic fromObject(src) {\r\n\t\treturn Object.assign(new Email(), src);\r\n\t}\r\n}\r\n","import { ValidationRules } from 'aurelia-validation';\r\n\r\nexport class Phone {\r\n\r\n\ttype = 'Home';\r\n\tnumber = '';\r\n\r\n\tconstructor() {\r\n\t\tValidationRules\r\n\t\t\t.ensure('type')\r\n\t\t\t.required()\r\n\t\t\t.maxLength(25)\r\n\t\t\t.ensure('number')\r\n\t\t\t.required()\r\n\t\t\t.maxLength(25)\r\n\t\t\t.on(this);\r\n\t}\r\n\r\n\tstatic fromObject(src) {\r\n\t\treturn Object.assign(new Phone(), src);\r\n\t}\r\n}\r\n","import { ValidationRules } from 'aurelia-validation';\r\n\r\nexport class SocialProfile {\r\n\r\n\ttype = 'GitHub';\r\n\tusername = '';\r\n\r\n\tconstructor() {\r\n\t\tValidationRules\r\n\t\t\t.ensure('type').required().maxLength(25)\r\n\t\t\t.ensure('username').required().maxLength(100)\r\n\t\t\t.on(this);\r\n\t}\r\n\r\n\tstatic fromObject(src) {\r\n\t\treturn Object.assign(new SocialProfile(), src);\r\n\t}\r\n\r\n}\r\n","import { inject } from 'aurelia-framework';\r\nimport { HttpClient, json } from 'aurelia-fetch-client';\r\nimport { Contact } from '../models/contact';\r\nimport environment from '../../environment';\r\n\r\n@inject(HttpClient)\r\nexport class ContactApiService {\r\n\r\n\tconstructor(httpClient) {\r\n\t\tthis.httpClient = httpClient.configure(config => {\r\n\t\t\tconfig\r\n\t\t\t\t.useStandardConfiguration()\r\n\t\t\t\t.withBaseUrl(environment.SERVER_URL + 'contacts/');\r\n\t\t});\r\n\t}\r\n\r\n\tgetAllContacts() {\r\n\t\treturn this.httpClient.fetch('')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(contacts => contacts.map(Contact.fromObject));\r\n\t}\r\n\r\n\tgetSingleContact(id) {\r\n\t\treturn this.httpClient.fetch(`${id}`)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(Contact.fromObject);\r\n\t}\r\n\r\n\tcreateContact(contact) {\r\n\t\treturn this.httpClient.fetch('',\r\n\t\t\t{ method: 'POST', body: json(contact) });\r\n\t}\r\n\r\n\tupdateContact(contact) {\r\n\t\treturn this.httpClient.fetch(`${contact._id}`,\r\n\t\t\t{ method: 'PUT', body: json(contact) });\r\n\t}\r\n\r\n\tdeleteContact(id) {\r\n\t\treturn this.httpClient.fetch(`${id}`,\r\n\t\t\t{ method: 'DELETE' });\r\n\t}\r\n}\r\n","import moment from 'moment';\r\n\r\nexport class DateValueConverter {\r\n\ttoView(date, format) {\r\n\t\tif (date === undefined || date === null || date === '') {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\treturn moment(date).format(format);\r\n\t}\r\n}\r\n","export class FilterByValueConverter {\n\ttoView(contacts, key = '') {\n\t\treturn contacts.filter((contact) => {\n\t\t\treturn contact.firstName.toLowerCase().indexOf(key.toLowerCase()) > -1 ||\n\t\t\t\tcontact.lastName.toLowerCase().indexOf(key.toLowerCase()) > -1 ||\n\t\t\t\tcontact.company.toLowerCase().indexOf(key.toLowerCase()) > -1;\n\t\t});\n\t}\n}\n","export class OrderByValueConverter {\n\ttoView(contacts, field = 'firstName', ascending = true) {\n\t\tif (ascending) {\n\t\t\treturn contacts.sort((a, b) => {\n\t\t\t\tif (a[field].toLowerCase() < b[field].toLowerCase()) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a[field].toLowerCase() > b[field].toLowerCase()) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn contacts.sort((a, b) => {\n\t\t\tif (a[field].toLowerCase() > b[field].toLowerCase()) {\n\t\t\t\treturn -1;\n\t\t\t} else if (a[field].toLowerCase() < b[field].toLowerCase()) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t}\n}\n\n"],"sourceRoot":"../src"}